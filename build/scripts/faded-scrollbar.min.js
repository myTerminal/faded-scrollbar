var FadedScrollbar=function(a,b){var c,d,e,f,g,h,i,j=null,k=null,l=$(a).first(),m=function(){l.css("-moz-user-select","none"),l.css("-webkit-user-select","none"),l.attr("onselectstart","return false;");var a=l.html();l.html('<div class="faded-scrollbar-parent"><div class="faded-scrollbar-container">'+a+'</div><div class="faded-scrollbar-controls"><div class="faded-scrollbar-handle-container"><div class="faded-scrollbar-handle"><div class="faded-scrollbar-handle-bar"></div></div><div class="faded-scrollbar-handle-track"></div></div></div></div>'),c=l.find(".faded-scrollbar-parent"),d=l.find(".faded-scrollbar-container"),e=l.find(".faded-scrollbar-controls"),f=l.find(".faded-scrollbar-handle"),g=l.find(".faded-scrollbar-handle"),h=l.find(".faded-scrollbar-handle-bar"),i=l.find(".faded-scrollbar-handle-track")},n=function(){m(),p(),o()},o=function(){var a=l.height(),b=d.height();a>b?e.hide():e.show();var c=a/b,f=i.height(),h=c*f;g.css("height",h)},p=function(){d.bind("mousedown",function(a){j=a.clientY}),d.bind("mousemove",function(a){j&&(q(j-a.clientY),j=a.clientY)}),d.bind("mouseout mouseup",function(){j=null}),g.bind("mousedown",function(a){k=a.clientY}),c.bind("mousemove",function(a){var b=-(k-a.clientY),c=b*r();k&&(q(c),k=a.clientY)}),c.bind("mouseout mouseup",function(){k=null})},q=function(a){var b=d.css("top"),e=d.height(),f=c.height(),g="auto"===b?0:parseInt(b),i=g-a;h.css("top");i>0?i=0:-1*i>e-f&&(i=-(e-f)),i!==g&&(s(i),t(-i/r()))},r=function(){var a=d.height(),b=c.height();return a/b},s=function(a){d.css("top",a)},t=function(a){g.css("top",a)},u=function(){s(0)},v=function(){};return b=b||{},n(),{init:n,refresh:o,pan:q,reset:u,destroy:v}};